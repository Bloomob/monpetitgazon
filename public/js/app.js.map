{"version":3,"sources":["app/js/app.js","app/js/classement.js","app/js/effectifs.js","app/js/home.js","app/js/ligue1.js","app/js/live.js","app/js/match.js","app/js/resultats.js","app/js/statistiques.js","app/js/transferts.js","app/js/utils.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvEA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnDA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnaA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtGA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxPA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1HA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhEA;AAAA","file":"public/js/app.js","sourcesContent":["\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    home = require('js/home'),\r\n    resultats = require('js/resultats'),\r\n    transferts = require('js/transferts'),\r\n    live = require('js/live'),\r\n    statistiques = require('js/statistiques'),\r\n    classement = require('js/classement'),\r\n    effectifs = require('js/effectifs'),\r\n    ligue1 = require('js/ligue1'),\r\n    match = require('js/match'),\r\n\r\n    /* Variables gloables */\r\n    teams = [],\r\n    $page = $('.page');\r\n\r\n/* Fonctions globales */\r\n\r\nfunction get404() {\r\n    $page.append(\r\n        $('<h1/>').text('La page demandée n\\'existe pas !')\r\n    )\r\n}\r\n\r\nfunction loadPage() {\r\n    var path = window.location.search,\r\n        tab = path.split('?')[1].split('&'),\r\n        page = tab[0],\r\n        id = tab[1];\r\n\r\n    utils.getTeams();\r\n    if (page === 'home') {\r\n        home.getHome();\r\n    } else if (page === 'classement') {\r\n        classement.getClassement();\r\n    } else if (page === 'transferts') {\r\n        transferts.getTransferts();\r\n    } else if (page === 'resultats') {\r\n        resultats.getResultats();\r\n    } else if (page === 'live') {\r\n        live.getLive();\r\n    } else if (page === 'statistiques') {\r\n        statistiques.getStatistiques();\r\n    } else if (page === 'equipes') {\r\n        effectifs.getEffectifs();\r\n    } else if (page === 'match') {\r\n        match.getMatch(id);\r\n    } else if (page === 'ligue1') {\r\n        ligue1.getLigue1();\r\n    } else {\r\n        get404();\r\n    }\r\n    // getHome();\r\n}\r\n\r\nloadPage();","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getClassement() {\r\n    $.get({\r\n        url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/ranking\",\r\n        headers: { \"Authorization\": Cookies.get('token') }\r\n    }).done(function(data) {\r\n        var classement = data.ranking,\r\n            clubs = data.teams,\r\n            $tableau,\r\n            i,\r\n            j,\r\n            s,\r\n            donnees,\r\n            $ligne,\r\n            serie,\r\n            equipe;\r\n\r\n        $tableau = $('<table/>').addClass('table classement').append(\r\n            $('<thead/>').append(\r\n                $('<tr/>').append(\r\n                    $('<th/>'),\r\n                    $('<th/>').text('Equipe'),\r\n                    $('<th/>').text('Série'),\r\n                    $('<th/>').text('J'),\r\n                    $('<th/>').text('G'),\r\n                    $('<th/>').text('N'),\r\n                    $('<th/>').text('P'),\r\n                    $('<th/>').text('Bp'),\r\n                    $('<th/>').text('Bc'),\r\n                    $('<th/>').text('Diff'),\r\n                    $('<th/>').text('Pts')\r\n                )\r\n            ),\r\n            $('<tbody/>')\r\n        );\r\n        \r\n        for (i = 0; i < classement.length; i += 1) {\r\n            donnees = classement[i];\r\n            $ligne = $('<tr/>');\r\n\r\n            for (equipe in donnees) {\r\n                if (donnees.hasOwnProperty(equipe)) {\r\n                    if (equipe === 'teamid') {\r\n                        $ligne.append($('<td/>').text(clubs[donnees[equipe]].name));\r\n                    } else if (equipe === 'rank') {\r\n                        $ligne.prepend($('<td/>').text(donnees[equipe]));\r\n                    }  else if (equipe === 'series') {\r\n                        $ligne.append($('<td/>').addClass('serie'));\r\n                        serie = donnees[equipe].split(\"\");\r\n                        \r\n                        for(s in serie) {\r\n                            $ligne.find('.serie').append($('<span/>').addClass(serie[s]));\r\n                        }\r\n                        \r\n                    } else {\r\n                        $ligne.append($('<td/>').text(donnees[equipe]));\r\n                    }\r\n                }\r\n            }\r\n            $tableau.append($ligne);\r\n        }\r\n        $page.append($tableau);\r\n        $tableau.bootstrapTable();\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getClassement: getClassement\r\n}","\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    $page = $('.page');\r\n\r\nfunction getEffectifs() {\r\n    $.get({\r\n        url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/teams\",\r\n        headers: { \"Authorization\": Cookies.get('token') }\r\n    }).done(function (data){\r\n        var clubs = data.teamsid,\r\n            effectifs = data.teams,\r\n            i,\r\n            effectif,\r\n            tab_joueurs,\r\n            equipe_joueurs,\r\n            $ligne;\r\n\r\n        function redirect(e) {\r\n            window.location.href = '?joueur&id=' + $(e.target).data('idplayer');\r\n        }\r\n        \r\n        $('.page').append(\r\n            /*$('<div/>').addClass('filtres').append(\r\n                $('<div/>').addClass('row').append(\r\n                    $('<div/>').addClass('col-md-2').append(\r\n                        $('<label/>').text('Equipe')\r\n                    ),\r\n                    $('<div/>').addClass('col-md-10').append(\r\n                        $('<select/>').addClass('selectpicker').append(\r\n                            $('<option/>').val('all').text('Toutes')\r\n                        )\r\n                    )\r\n                )\r\n            ),*/\r\n            $('<table/>').addClass('table').attr('data-sort-name', 'joueur').attr('data-toggle', 'table').append(\r\n                $('<thead/>').append(\r\n                    $('<tr/>').append(\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'poste').text('Poste'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'club').text('Club'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'prix_achat').text('Prix d\\'achat'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'team_mpg').text('Team MPG')\r\n                    )\r\n                ),\r\n                $('<tbody/>')\r\n            )\r\n        );\r\n\r\n        /*for (i = 0; i < clubs.length; i += 1) {\r\n            $('.page .filtres .selectpicker').append($('<option/>').val(clubs[i].id).text(clubs[i].name));\r\n        }*/\r\n\r\n        for (effectif in effectifs) {\r\n            if (effectifs.hasOwnProperty(effectif)) {\r\n                tab_joueurs = effectifs[effectif].players;\r\n                equipe_joueurs = effectifs[effectif].name;\r\n\r\n                for (i = 0; i < tab_joueurs.length; i += 1) {\r\n                    $ligne = $('<tr/>').attr('data-idplayer', tab_joueurs[i].id).append(\r\n                        $('<td/>').html((tab_joueurs[i].firstname) ? tab_joueurs[i].firstname + ' ' + tab_joueurs[i].lastname : '' + tab_joueurs[i].lastname),\r\n                        $('<td/>').text(utils.postes[tab_joueurs[i].position]),\r\n                        $('<td/>').text(tab_joueurs[i].club),\r\n                        $('<td/>').text(tab_joueurs[i].price_paid),\r\n                        $('<td/>').attr('data-teamid', effectifs[effectif].id).text(equipe_joueurs)\r\n                    ).on('click', redirect);\r\n                    $('.page table tbody').append($ligne);\r\n                }\r\n            }\r\n        }\r\n        // $('.page .filtres .selectpicker').selectpicker('refresh');\r\n        $('.page table').bootstrapTable({\r\n            pagination: true,\r\n            search: true,\r\n            showColumns: true\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getEffectifs: getEffectifs\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getHome() {\r\n    $page.append(\r\n        $('<div/>').addClass('row').append(\r\n            $('<div/>').addClass('col-sm-6 col-sm-offset-3').append(\r\n                $('<form/>').append(\r\n                    $('<div/>').addClass('form-group').append(\r\n                        $('<label/>').attr('for', 'emailInput').text('Entrez votre Email MPG :'),\r\n                        $('<input/>').addClass('form-control').attr('type', 'email').attr('placeholder', 'ex : test@mail.fr').attr('id', 'emailInput')\r\n                    ),\r\n                    $('<div/>').addClass('form-group').append(\r\n                        $('<label/>').attr('for', 'passwordInput').text('Entrez votre mot de passe MPG :'),\r\n                        $('<input/>').addClass('form-control').attr('type', 'password').attr('placeholder', 'Saissisez votre mote de passe MPG').attr('id', 'passwordInput')\r\n                    ),\r\n                    $('<button/>').addClass('btn btn-primary seconnecter').attr('type', 'submit').text('Se connecter')\r\n                )\r\n            )\r\n        )\r\n    );\r\n    $('.seconnecter').click(function(e){\r\n        e.preventDefault();\r\n        seConnecter($('#emailInput').val(), $('#passwordInput').val());\r\n    });\r\n}\r\n\r\nfunction seConnecter(email, password) {\r\n    $page.find('alert alert-danger').remove();\r\n    $.post({\r\n        url: \"https://api.monpetitgazon.com/user/signIn\",\r\n        data: {\r\n            email: email,\r\n            password: password,\r\n            language: \"fr-FR\"\r\n        },\r\n        dataType: 'json'\r\n    }).done(function(data) {\r\n        console.log(data);\r\n        Cookies.set('token', data.token, { expires: 7 });\r\n        // $page.append(data); \r\n    }).fail(function(data) {\r\n        $page.find('form').before(\r\n            $('<div/>').addClass('alert alert-danger').attr('role', 'alert').text('Erreur utilisateur / mot de passe incorrect')\r\n        );\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getHome: getHome\r\n}","\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    $page = $('.page');\r\n\r\nfunction getLigue1() {\r\n    var journee = 0,\r\n        derniereJournee = 0,\r\n        effectifs,\r\n        tab = [],\r\n        tabPromessesMatchParJournee = [],\r\n        tabPromessesDetailsParId = [],\r\n        tabJournee = [],\r\n        listeJournees = [],\r\n        listeNotes = [],\r\n        listePromessesMatchParJournee,\r\n        listePromessesDetailsParId,\r\n        matchs,\r\n        eq_home,\r\n        eq_away,\r\n        j_home,\r\n        j_away,\r\n        listeJoueurs,\r\n        listeNotes,\r\n        equipe,\r\n        result,\r\n        titu,\r\n        sub,\r\n        joueur,\r\n        index,\r\n        notes,\r\n        moyenne,\r\n        noteClass,\r\n        i,\r\n        j,\r\n        k,\r\n        $ligneHead,\r\n        $ligne;\r\n    \r\n    function getListeMatchParJournee (i) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\" + i,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n\r\n    function getDetailsMatchParId (id) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/match/\" + id,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getDerniereJournee () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getEffectif () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/teams\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n\r\n    function compare(e) {\r\n        return e.id === j;\r\n    }\r\n\r\n    function trouverEquipe (myArray, value) {\r\n         for (var i in myArray) {\r\n            for (var j in myArray[i].players) {\r\n                if (myArray[i].players[j].id === 'player_' + value) {\r\n                    return { nom: myArray[i].name, poste: myArray[i].players[j].position };\r\n                }\r\n            }\r\n        }\r\n     }\r\n\r\n    function loadMatchsParJournee(derniereJournee, effectifs) {\r\n        for(i = 18; i <= derniereJournee; i += 1) {\r\n            tabPromessesMatchParJournee.push(i);\r\n        }\r\n        listePromessesMatchParJournee = tabPromessesMatchParJournee.map(getListeMatchParJournee);\r\n    }\r\n\r\n    function loadLiguePage(listeNotes, effectifs) {\r\n        $('.page').append(\r\n            $('<table/>').addClass('table ligue1').attr('data-sort-name', 'joueur').attr('data-toggle', 'table').append(\r\n                $('<thead/>'),\r\n                $('<tbody/>')\r\n            )\r\n        );\r\n\r\n        $ligneHead = $('<tr/>').append(\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'position').text('Position'),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'proprietaire').text('Propriétaire'),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'equipe').text('Equipe'),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'buts').append(\r\n                $('<i/>').addClass('fa fa-futbol-o').attr('aria-hidden', true)\r\n            ),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'titulaires').append(\r\n                $('<i/>').addClass('fa fa-circle').attr('aria-hidden', true)\r\n            ),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'remplacants').append(\r\n                $('<i/>').addClass('fa fa-circle-thin').attr('aria-hidden', true)\r\n            ),\r\n            $('<th/>').attr('data-sortable', true).attr('data-field', 'moyenne').text('Moy.')\r\n        );\r\n\r\n        for (i = 0; i < listeJournees.length; i += 1) {\r\n            $ligneHead.append($('<th/>').attr('data-sortable', true).attr('data-field', 'J' + listeJournees[i]).text('J' + listeJournees[i]));\r\n        }\r\n        $('.page table thead').append($ligneHead);\r\n\r\n        // console.log(effectifs.teams, liste_notes);\r\n\r\n        for (i in listeNotes) {\r\n            if (listeNotes.hasOwnProperty(i)) {\r\n                $ligne = $('<tr/>').append(\r\n                    $('<td/>').html('<strong>' + listeNotes[i].nom + '</strong>'),\r\n                    $('<td/>').text(trouverEquipe(effectifs.teams, listeNotes[i].id) !== undefined ? utils.postes[(trouverEquipe(effectifs.teams, listeNotes[i].id))['poste']] : ''),\r\n                    $('<td/>').text(trouverEquipe(effectifs.teams, listeNotes[i].id) !== undefined ? (trouverEquipe(effectifs.teams, listeNotes[i].id))['nom'] : 'Libre'),\r\n                    $('<td/>').text(listeNotes[i].equipe),\r\n                    $('<td/>').text(listeNotes[i].buts),\r\n                    $('<td/>').text(listeNotes[i].titulaires),\r\n                    $('<td/>').text(listeNotes[i].remplacants)\r\n                );\r\n                notes = listeNotes[i].notes;\r\n\r\n                moyenne = Math.round(listeNotes[i].somme / notes.length * 100) / 100;\r\n\r\n                if (moyenne >= 7) {\r\n                    noteClass = 'perf-top';\r\n                } else if (moyenne >= 6) {\r\n                    noteClass = 'perf-good';\r\n                } else if (moyenne >= 5) {\r\n                    noteClass = 'perf-normal';\r\n                } else if (moyenne >= 4) {\r\n                    noteClass = 'perf-bad';\r\n                } else if (moyenne < 4) {\r\n                    noteClass = 'perf-awful';\r\n                }\r\n\r\n                $ligne.append($('<td/>').addClass(noteClass).text(moyenne));\r\n                k = 0;\r\n                for (j = 0; j < listeJournees.length; j += 1) {\r\n                    if (notes[k] !== undefined) {\r\n                        if (listeJournees[j] === notes[k].journee) {\r\n                            if (notes[k].note >= 7) {\r\n                                noteClass = 'perf-top';\r\n                            } else if (notes[k].note >= 6) {\r\n                                noteClass = 'perf-good';\r\n                            } else if (notes[k].note >= 5) {\r\n                                noteClass = 'perf-normal';\r\n                            } else if (notes[k].note >= 4) {\r\n                                noteClass = 'perf-bad';\r\n                            } else if (notes[k].note < 4) {\r\n                                noteClass = 'perf-awful';\r\n                            }\r\n\r\n                            if (notes[k].sub) {\r\n                                $ligne.append($('<td/>').addClass(noteClass).append(\r\n                                    $('<span/>').text(notes[k].note),\r\n                                    $('<i/>').addClass('fa fa-caret-right').attr('aria-hidden', true)\r\n                                ));\r\n                            } else {\r\n                                $ligne.append($('<td/>').addClass(noteClass).text(notes[k].note));\r\n                            }\r\n                            k += 1;\r\n                        } else {\r\n                            $ligne.append($('<td/>').text('X'));\r\n                        }\r\n                    } else {\r\n                        $ligne.append($('<td/>').text('X'));\r\n                        k += 1;\r\n                    }\r\n                }\r\n                $('.page table tbody').append($ligne);\r\n            }\r\n        }\r\n\r\n        $('.page .modal .selectpicker').selectpicker('refresh');\r\n        $('.page table').bootstrapTable({\r\n            pagination: true,\r\n            search: true,\r\n            showColumns: true\r\n        });\r\n    }\r\n    \r\n    function failPromessesMatchParJournee () {\r\n        console.log('Une erreur est survenue');\r\n    }\r\n\r\n    /*\r\n    if(utils.getStorage('derniereJournee') != null && utils.getStorage('effectifs') != null) {\r\n        loadMatchsParJournee(utils.getStorage('derniereJournee').value, utils.getStorage('effectifs').value);\r\n    } else {\r\n        $.when(getDerniereJournee(), getEffectif()).then(function(args1, args2){\r\n            derniereJournee = args1[0].day;\r\n            effectifs = args2[0];\r\n            utils.setStorage('derniereJournee', derniereJournee);\r\n            utils.setStorage('effectifs', effectifs);\r\n\r\n            loadMatchsParJournee(derniereJournee, effectifs);\r\n\r\n            // loadLiguePage(listeNotes, effectifs);\r\n        });\r\n    }\r\n    */\r\n\r\n    $.when(getDerniereJournee(), getEffectif()).then(function(args1, args2){\r\n        derniereJournee = args1[0].day;\r\n        effectifs = args2[0];\r\n\r\n        for(i = 18; i <= derniereJournee; i += 1) {\r\n            tabPromessesMatchParJournee.push(i);\r\n        }\r\n        listePromessesMatchParJournee = tabPromessesMatchParJournee.map(getListeMatchParJournee);\r\n        \r\n        $.when.apply($, listePromessesMatchParJournee).then(function(){\r\n            for(i = 0; i < tabPromessesMatchParJournee.length; ++i) {\r\n                journee = arguments[i][0].day;\r\n                matchs = arguments[i][0].matches;\r\n                listeJournees.push(journee);\r\n                \r\n                for(j in matchs) {\r\n                    if (matchs.hasOwnProperty(j)) {\r\n                        \r\n                        if(matchs[j].home.score !== undefined && matchs[j].home.score !== '') {\r\n                            tabPromessesDetailsParId.push(matchs[j].id);\r\n                            tabJournee.push(journee);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            listePromessesDetailsParId = tabPromessesDetailsParId.map(getDetailsMatchParId);\r\n            \r\n            $.when.apply($, listePromessesDetailsParId).then(function(){\r\n                for(i = 0; i < tabPromessesDetailsParId.length; ++i) {\r\n                    journee = tabJournee[i];\r\n                    eq_home = arguments[i][0].Home.club;\r\n                    eq_away = arguments[i][0].Away.club;\r\n                    j_home = arguments[i][0].Home.players;\r\n                    j_away = arguments[i][0].Away.players;\r\n                    listeJoueurs = Object.assign(j_home, j_away);\r\n\r\n                    for (j in listeJoueurs) {\r\n                        if (listeJoueurs.hasOwnProperty(j)) {\r\n                            result = $.grep(listeNotes, compare);\r\n\r\n                            if (j_away.hasOwnProperty(j)) {\r\n                                equipe = eq_away;\r\n                            } else {\r\n                                equipe = eq_home;\r\n                            }\r\n\r\n                            if (listeJoueurs[j].info.sub) {\r\n                                titu = 0;\r\n                                sub = 1;\r\n                            } else {\r\n                                titu = 1;\r\n                                sub = 0;\r\n                            }\r\n\r\n                            // console.log(listeJoueurs[j].info);\r\n\r\n                            if (result.length === 0) {\r\n                                joueur = {\r\n                                    id: j,\r\n                                    nom: listeJoueurs[j].info.lastname,\r\n                                    equipe: equipe,\r\n                                    somme: listeJoueurs[j].info.note_final_2015,\r\n                                    buts: listeJoueurs[j].info.goals,\r\n                                    titulaires: titu,\r\n                                    remplacants: sub,\r\n                                    notes: [\r\n                                        {\r\n                                            note: listeJoueurs[j].info.note_final_2015,\r\n                                            journee: journee,\r\n                                            sub: sub\r\n                                        }\r\n                                    ]\r\n                                };\r\n                                listeNotes.push(joueur);\r\n                            } else {\r\n                                index = listeNotes.indexOf(result[0]);\r\n                                listeNotes[index].buts += listeJoueurs[j].info.goals;\r\n                                listeNotes[index].somme += listeJoueurs[j].info.note_final_2015;\r\n                                listeNotes[index].titulaires += titu;\r\n                                listeNotes[index].remplacants += sub;\r\n                                listeNotes[index].notes.push(\r\n                                    {\r\n                                        note: listeJoueurs[j].info.note_final_2015,\r\n                                        journee: journee,\r\n                                        sub: sub\r\n                                    }\r\n                                );\r\n                                // console.log(result);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                $('.page').append(\r\n                    $('<table/>').addClass('table ligue1').attr('data-sort-name', 'joueur').attr('data-toggle', 'table').attr('data-filter-control', 'true').attr('data-filter-show-clear', 'true').append(\r\n                        $('<thead/>'),\r\n                        $('<tbody/>')\r\n                    )\r\n                );\r\n\r\n                \r\n\r\n                $ligneHead = $('<tr/>').append(\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-filter-control', 'select').attr('data-field', 'position').text('Position'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-filter-control', 'select').attr('data-field', 'proprietaire').text('Propriétaire'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-filter-control', 'select').attr('data-field', 'equipe').text('Equipe'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'buts').append(\r\n                        $('<i/>').addClass('fa fa-futbol-o').attr('aria-hidden', true)\r\n                    ),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'titulaires').append(\r\n                        $('<i/>').addClass('fa fa-circle').attr('aria-hidden', true)\r\n                    ),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'remplacants').append(\r\n                        $('<i/>').addClass('fa fa-circle-thin').attr('aria-hidden', true)\r\n                    ),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'moyenne').text('Moy.')\r\n                );\r\n\r\n                for (i = 0; i < listeJournees.length; i += 1) {\r\n                    $ligneHead.append($('<th/>').attr('data-sortable', true).attr('data-field', 'J' + listeJournees[i]).text('J' + listeJournees[i]));\r\n                }\r\n                $('.page table thead').append($ligneHead);\r\n\r\n                // console.log(effectifs.teams, liste_notes);\r\n\r\n                for (i in listeNotes) {\r\n                    if (listeNotes.hasOwnProperty(i)) {\r\n                        $ligne = $('<tr/>').append(\r\n                            $('<td/>').html('<strong>' + listeNotes[i].nom + '</strong>'),\r\n                            $('<td/>').text(trouverEquipe(effectifs.teams, listeNotes[i].id) !== undefined ? utils.postes[(trouverEquipe(effectifs.teams, listeNotes[i].id))['poste']] : ''),\r\n                            $('<td/>').text(trouverEquipe(effectifs.teams, listeNotes[i].id) !== undefined ? (trouverEquipe(effectifs.teams, listeNotes[i].id))['nom'] : 'Libre'),\r\n                            $('<td/>').text(listeNotes[i].equipe),\r\n                            $('<td/>').text(listeNotes[i].buts),\r\n                            $('<td/>').text(listeNotes[i].titulaires),\r\n                            $('<td/>').text(listeNotes[i].remplacants)\r\n                        );\r\n                        notes = listeNotes[i].notes;\r\n\r\n                        moyenne = Math.round(listeNotes[i].somme / notes.length * 100) / 100;\r\n\r\n                        if (moyenne >= 7) {\r\n                            noteClass = 'perf-top';\r\n                        } else if (moyenne >= 6) {\r\n                            noteClass = 'perf-good';\r\n                        } else if (moyenne >= 5) {\r\n                            noteClass = 'perf-normal';\r\n                        } else if (moyenne >= 4) {\r\n                            noteClass = 'perf-bad';\r\n                        } else if (moyenne < 4) {\r\n                            noteClass = 'perf-awful';\r\n                        }\r\n\r\n                        $ligne.append($('<td/>').addClass(noteClass).text(moyenne));\r\n                        k = 0;\r\n                        for (j = 0; j < listeJournees.length; j += 1) {\r\n                            if (notes[k] !== undefined) {\r\n                                if (listeJournees[j] === notes[k].journee) {\r\n                                    if (notes[k].note >= 7) {\r\n                                        noteClass = 'perf-top';\r\n                                    } else if (notes[k].note >= 6) {\r\n                                        noteClass = 'perf-good';\r\n                                    } else if (notes[k].note >= 5) {\r\n                                        noteClass = 'perf-normal';\r\n                                    } else if (notes[k].note >= 4) {\r\n                                        noteClass = 'perf-bad';\r\n                                    } else if (notes[k].note < 4) {\r\n                                        noteClass = 'perf-awful';\r\n                                    }\r\n\r\n                                    if (notes[k].sub) {\r\n                                        $ligne.append($('<td/>').addClass(noteClass).append(\r\n                                            $('<span/>').text(notes[k].note),\r\n                                            $('<i/>').addClass('fa fa-caret-right').attr('aria-hidden', true)\r\n                                        ));\r\n                                    } else {\r\n                                        $ligne.append($('<td/>').addClass(noteClass).text(notes[k].note));\r\n                                    }\r\n                                    k += 1;\r\n                                } else {\r\n                                    $ligne.append($('<td/>').text('X'));\r\n                                }\r\n                            } else {\r\n                                $ligne.append($('<td/>').text('X'));\r\n                                k += 1;\r\n                            }\r\n                        }\r\n                        $('.page table tbody').append($ligne);\r\n                    }\r\n                }\r\n\r\n                $('.page .modal .selectpicker').selectpicker('refresh');\r\n                $('.page table').bootstrapTable({\r\n                    pagination: true,\r\n                    search: true,\r\n                    showColumns: true\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getLigue1: getLigue1\r\n}","\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    $page = $('.page'),\r\n    tabPromesses = [],\r\n    listeMatchsStorage = [],\r\n    listePromesses,\r\n    listePromesses1,\r\n    listePromesses2,\r\n    isStorage = true,\r\n    listeMatchsStorage,\r\n    i;\r\n\r\nfunction getLive() {\r\n    \r\n    function getListeEquipesLive () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/live\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getEquipeLive (donnees) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/pitch_game/\" + donnees[0] + \"/\" + donnees[1],\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getDerniersResultats () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getListeMatchs (i) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/match/\" + i,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function loadMatchsLivePage (listeMatchsStorage) {\r\n        console.log(listeMatchsStorage);\r\n        \r\n        for(i = 0; i < listeMatchsStorage.length - 1; i+=1) {\r\n            console.log(listeMatchsStorage[i][0]);\r\n        }\r\n    }\r\n    \r\n    function loadLivePage (derniersResultats, listeEquipesLive) {        \r\n        for(i = 0; i < derniersResultats.length - 1; i += 1) {\r\n            if(derniersResultats[i].home.score !== undefined && derniersResultats[i].home.score !== '') {\r\n                tabPromesses.push(derniersResultats[i].id);\r\n                isStorage = utils.getStorage('match_' + derniersResultats[i].id) != null && isStorage;\r\n\r\n                if(utils.getStorage('match_' + derniersResultats[i].id) != null)\r\n                    listeMatchsStorage.push(utils.getStorage('match_' + derniersResultats[i].id).value);\r\n            }\r\n        }\r\n        listePromesses1 = tabPromesses.map(getListeMatchs);\r\n        \r\n        for(i = 0; i < listeEquipesLive.length - 1; i += 1) {\r\n            tabPromesses.push([listeEquipesLive[i].id, listeEquipesLive[0].home.id]);\r\n            tabPromesses.push([listeEquipesLive[i].id, listeEquipesLive[0].away.id]);\r\n            \r\n            /*\r\n                tabPromesses.push(listeEquipesLive[i].id);\r\n                isStorage = utils.getStorage('match_' + derniersResultats[i].id) != null && isStorage;\r\n\r\n                if(utils.getStorage('match_' + derniersResultats[i].id) != null)\r\n                    listeMatchsStorage.push(utils.getStorage('match_' + derniersResultats[i].id).value);\r\n            */\r\n        }\r\n        \r\n        listePromesses2 = tabPromesses.map(getEquipeLive);        \r\n        listePromesses = listePromesses1.concat(listePromesses2);\r\n        \r\n        if(isStorage) {\r\n            loadMatchsLivePage(listeMatchsStorage);\r\n        } else {\r\n            $.when.apply($, listePromesses).then(function(){\r\n                \r\n                loadMatchsLivePage(arguments);\r\n            });\r\n        }\r\n    }\r\n    \r\n    if(utils.getStorage('derniersResultats') != null && utils.getStorage('listeEquipesLive') != null) {\r\n        loadLivePage(utils.getStorage('derniersResultats').value, utils.getStorage('listeEquipesLive').value);\r\n    } else {\r\n        $.when(getDerniersResultats(), getListeEquipesLive()).then(function(args1, args2){\r\n            utils.setStorage('derniersResultats', args1[0].matches);\r\n            utils.setStorage('listeEquipesLive', args2[0][0].matches);\r\n            loadLivePage(args1[0].matches, args2[0][0].matches);\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    getLive: getLive\r\n}","\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    $page = $('.page'),\r\n    bonus,\r\n    players,\r\n    teamHome,\r\n    teamAway,\r\n    buts,\r\n    remplacant,\r\n    $tabHome,\r\n    $tabAway,\r\n    $icons,\r\n    i,\r\n    j,\r\n    k;\r\n\r\nfunction getMatch(id) {\r\n\r\n    function getMatchParId (id) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/results/\" + id,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    function erreurPromesse() {\r\n        return function(data) {\r\n            $page.append(\r\n                $('<div/>').addClass('alert alert-danger text-center').attr('role', 'alert').append(\r\n                    utils.fontAwesomeIcon('exclamation-triangle'),\r\n                    $('<span/>').text('Le match que vous cherchez n\\'existe pas')\r\n                )\r\n            )\r\n        // console.log(data)\r\n        };\r\n    }\r\n\r\n    function loadMatchPage(args) {\r\n        // console.log(args.data);\r\n        bonus = args.data.bonus;\r\n        players = args.data.players;\r\n        teamHome = args.data.teamHome;\r\n        teamAway = args.data.teamAway;\r\n\r\n        $page.append(\r\n            $('<div/>').addClass('header-match').append(\r\n                $('<div/>').addClass('row').append(\r\n                    $('<div/>').addClass('col-sm-4 col-md-5 text-right').append(\r\n                        $('<div/>').addClass('row').append(\r\n                            $('<div/>').addClass('col-xs-9 col-sm-12').append(\r\n                                $('<div/>').addClass('equipe').append(\r\n                                    $('<span/>').text(teamHome.name)\r\n                                )\r\n                            ),\r\n                            $('<div/>').addClass('visible-xs col-xs-3').append(\r\n                                $('<div/>').addClass('score').text(teamHome.score)\r\n                            )\r\n                        )\r\n                    ),\r\n                    $('<div/>').addClass('hidden-xs col-sm-4 col-md-2 text-center').append(\r\n                        $('<div/>').addClass('score').text(teamHome.score + ' - ' + teamAway.score)\r\n                    ),\r\n                    $('<div/>').addClass('col-sm-4 col-md-5').append(\r\n                        $('<div/>').addClass('row').append(\r\n                            $('<div/>').addClass('col-xs-9 col-sm-12').append(\r\n                                $('<div/>').addClass('equipe').append(\r\n                                    $('<span/>').text(teamAway.name)\r\n                                )\r\n                            ),\r\n                            $('<div/>').addClass('visible-xs col-xs-3').append(\r\n                                $('<div/>').addClass('score').text(teamAway.score)\r\n                            )\r\n                        )\r\n                    )\r\n                ),\r\n                $('<div/>').addClass('row').append(\r\n                    $('<div/>').addClass('col-sm-5 buteursHome'),\r\n                    $('<div/>').addClass('col-sm-5 col-sm-offset-2 buteursAway')\r\n                )\r\n            ),\r\n            $('<div/>').addClass('content-match')\r\n        );\r\n        \r\n        $tabHome = $('<table/>').addClass('table').append(\r\n            $('<tr/>').append(\r\n                $('<th/>').addClass('numero').text('Num'),\r\n                $('<th/>').addClass('remplacement').text(''),\r\n                $('<th/>').addClass('nom').text('Nom'),\r\n                $('<th/>').addClass('note').text('Note'),\r\n                $('<th/>').addClass('bonus').text('Bonus'),\r\n                $('<th/>').addClass('total-note').text('Total')\r\n            )\r\n        );\r\n        \r\n        $tabAway = $tabHome.clone();\r\n        \r\n        $page.find('.content-match').append(\r\n            $('<div/>').addClass('row').append(\r\n                $('<div/>').addClass('col-sm-6').append(\r\n                    $tabHome\r\n                ),\r\n                $('<div/>').addClass('col-sm-6').append(\r\n                    $tabAway\r\n                )\r\n            )\r\n        );\r\n        \r\n        for(i in players.home) {\r\n            buts = players.home[i].goals;\r\n            \r\n            for(j in buts) {\r\n                if(buts[j] > 0) {\r\n                    $icons = $('<span/>').addClass('icons');\r\n                    for(k = 1; k <= buts[j]; k++) {\r\n                        $icons.append(utils.fontAwesomeIcon('futbol-o ' + j));\r\n                    }\r\n                    if(j == 'own_goal') {\r\n                        $page.find('.buteursAway').append(\r\n                            $('<div/>').addClass('buteur').append( players.home[i].name, $icons )\r\n                        );\r\n                    } else {\r\n                        $page.find('.buteursHome').append(\r\n                            $('<div/>').addClass('buteur text-right').append( $icons, players.home[i].name )\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            $tabHome.addClass('tabHome').append(\r\n                $('<tr/>').append(\r\n                    $('<td/>').addClass('numero').text( players.home[i].number ),\r\n                    $('<td/>').addClass('remplacement').html( players.home[i].substitute ? utils.fontAwesomeIcon('chevron-left out') : '' ),\r\n                    $('<td/>').addClass('nom').text( players.home[i].name ),\r\n                    $('<td/>').addClass('note ' + utils.classNote(players.home[i].rating) ).text( players.home[i].rating ),\r\n                    $('<td/>').addClass('bonus').text( players.home[i].rating ? players.home[i].bonus : '' ),\r\n                    $('<td/>').addClass('total-note').text( players.home[i].rating ? players.home[i].rating + players.home[i].bonus : '' )\r\n                )\r\n            )\r\n            if(players.home[i].substitute) {\r\n                remplacant = players.home[i].substitute;\r\n                buts = remplacant.goals;\r\n\r\n                for(j in buts) {\r\n                    if(buts[j] > 0) {\r\n                        $icons = $('<span/>').addClass('icons');\r\n                        for(k = 1; k <= buts[j]; k++) {\r\n                            $icons.append(utils.fontAwesomeIcon('futbol-o ' + j));\r\n                        }\r\n                        if(j == 'own_goal') {\r\n                            $page.find('.buteursAway').append(\r\n                                $('<div/>').addClass('buteur').append( remplacant.name, $icons )\r\n                            );\r\n                        } else {\r\n                            $page.find('.buteursHome').append(\r\n                                $('<div/>').addClass('buteur text-right').append( $icons, remplacant.name )\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n                $tabHome.append(\r\n                    $('<tr/>').append(\r\n                        $('<td/>').addClass('numero').text( '' ),\r\n                        $('<td/>').addClass('remplacement').html( utils.fontAwesomeIcon('chevron-right in') ),\r\n                        $('<td/>').addClass('nom').text( remplacant.name ),\r\n                        $('<td/>').addClass('note ' + utils.classNote(remplacant.rating) ).text( remplacant.rating ),\r\n                        $('<td/>').addClass('bonus').text( remplacant.rating ? remplacant.bonus : '' ),\r\n                        $('<td/>').addClass('total-note').text( remplacant.rating ? remplacant.rating + remplacant.bonus : '' )\r\n                    )\r\n                )\r\n            }\r\n        }\r\n                \r\n        for(i in players.away) {\r\n            buts = players.away[i].goals;\r\n            \r\n            for(j in buts) {\r\n                if(buts[j] > 0) {\r\n                    $icons = $('<span/>').addClass('icons');\r\n                    for(k = 1; k <= buts[j]; k++) {\r\n                        $icons.append(utils.fontAwesomeIcon('futbol-o ' + j));\r\n                    }\r\n                    if(j != 'own_goal') {\r\n                        $page.find('.buteursAway').append(\r\n                            $('<div/>').addClass('buteur').append( players.home[i].name, $icons )\r\n                        );\r\n                    } else {\r\n                        $page.find('.buteursHome').append(\r\n                            $('<div/>').addClass('buteur text-right').append( $icons, players.home[i].name )\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n            $tabAway.addClass('tabAway').append(\r\n                $('<tr/>').append(\r\n                    $('<td/>').addClass('numero').text( players.away[i].number ),\r\n                    $('<td/>').addClass('remplacement').html( players.away[i].substitute ? utils.fontAwesomeIcon('chevron-left out') : '' ),\r\n                    $('<td/>').addClass('nom').text( players.away[i].name ),\r\n                    $('<td/>').addClass('note ' + utils.classNote(players.away[i].rating) ).text( players.away[i].rating ),\r\n                    $('<td/>').addClass('bonus').text( players.away[i].rating ? players.away[i].bonus : '' ),\r\n                    $('<td/>').addClass('total-note').text( players.away[i].rating ? players.away[i].rating + players.away[i].bonus : '' )\r\n                )\r\n            )\r\n            if(players.away[i].substitute) {\r\n                remplacant = players.away[i].substitute;\r\n                buts = remplacant.goals;\r\n                \r\n                for(j in buts) {\r\n                    if(buts[j] > 0) {\r\n                        $icons = $('<span/>').addClass('icons');\r\n                        for(k = 1; k <= buts[j]; k++) {\r\n                            $icons.append(utils.fontAwesomeIcon('futbol-o ' + j));\r\n                        }\r\n                        if(j != 'own_goal') {\r\n                            $page.find('.buteursAway').append(\r\n                                $('<div/>').addClass('buteur').append( remplacant.name, $icons )\r\n                            );\r\n                        } else {\r\n                            $page.find('.buteursHome').append(\r\n                                $('<div/>').addClass('buteur text-right').append( $icons, remplacant.name )\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n                $tabAway.append(\r\n                    $('<tr/>').append(\r\n                        $('<td/>').addClass('numero').text( '' ),\r\n                        $('<td/>').addClass('remplacement').html( utils.fontAwesomeIcon('chevron-right in') ),\r\n                        $('<td/>').addClass('nom').text( remplacant.name ),\r\n                        $('<td/>').addClass('note ' + utils.classNote(remplacant.rating) ).text( remplacant.rating ),\r\n                        $('<td/>').addClass('bonus').text( remplacant.rating ? remplacant.bonus : '' ),\r\n                        $('<td/>').addClass('total-note').text( remplacant.rating ? remplacant.rating + remplacant.bonus : '' )\r\n                    )\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    if(utils.getStorage('matchParId_' + id) != null) {\r\n        loadMatchPage(utils.getStorage('matchParId_' + id).value);\r\n    } else {\r\n        $.when(getMatchParId(id).fail(erreurPromesse())).then(function(args){\r\n            utils.setStorage('matchParId_' + id, args);\r\n            loadMatchPage(args);\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = {\r\n    getMatch: getMatch\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page'),\r\n    journee = 0,\r\n    derniereJournee = 0,\r\n    tab = [],\r\n    tabPromesses = [],\r\n    listeJournees = [],\r\n    listeNotes = [],\r\n    listePromesses,\r\n    matchs,\r\n    eq_home,\r\n    eq_away,\r\n    s_home = '',\r\n    s_away = '',\r\n    listeJoueurs,\r\n    listeNotes,\r\n    equipe,\r\n    result,\r\n    titu,\r\n    sub,\r\n    joueur,\r\n    index,\r\n    i,\r\n    j,\r\n    k;\r\n\r\n\r\nfunction getResultats () {\r\n\r\n    function getListeMatchParJournee (i) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/calendar/\" + i,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getDerniereJournee () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/calendar/\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n\r\n    function compare(e) {\r\n        return e.id === j;\r\n    }\r\n\r\n    $.when(getDerniereJournee()).then(function(args){\r\n        derniereJournee = args.data.results.currentMatchDay;\r\n    \r\n        for(i = 1; i <= derniereJournee; i += 1) {\r\n            tabPromesses.push(i);\r\n        }\r\n        listePromesses = tabPromesses.map(getListeMatchParJournee);\r\n\r\n        $.when.apply($, listePromesses).then(function(){\r\n            $page.append(\r\n                $('<div/>').addClass('listeJournees').append(\r\n                    $('<ul/>')\r\n                ),\r\n                $('<div/>').addClass('listeResultats')\r\n            );\r\n\r\n            for(i = 0; i < listePromesses.length; ++i) {\r\n                journee = arguments[i][0].data.results.currentMatchDay;\r\n                matchs = arguments[i][0].data.results.matches;\r\n                listeJournees.push(journee);\r\n\r\n                $page.find('.listeJournees ul').append(\r\n                    $('<li/>').append(\r\n                        $('<a/>').attr('href', '#' + journee).text(journee)\r\n                    )\r\n                );\r\n\r\n                $page.find('.listeResultats').append(\r\n                    $('<div/>').addClass('row').append(\r\n                        $('<div/>').addClass('col-sm-12').append(\r\n                            $('<h3/>').text('Journée ' + journee)\r\n                        )\r\n                    )\r\n                );\r\n\r\n                for(j in matchs) {\r\n                    if (matchs.hasOwnProperty(j)) {\r\n                        eq_home = matchs[j].teamHome.name;\r\n                        eq_away = matchs[j].teamAway.name;\r\n                        if(matchs[j].teamHome.score != undefined && matchs[j].teamAway.score != undefined) {\r\n                            s_home = matchs[j].teamHome.score;\r\n                            s_away = matchs[j].teamAway.score;\r\n                        } else {\r\n                            s_home = -1, s_away = -1;\r\n                        }\r\n\r\n                        $page.find('.listeResultats').append(\r\n                            $('<div/>').addClass('row').append(\r\n                                $('<div/>').addClass('col-sm-5 text-right').append(\r\n                                    $('<span/>').text(eq_home)\r\n                                ),\r\n                                $('<div/>').addClass('col-sm-2 text-center').append(\r\n                                    (s_home >= 0 && s_away >= 0) ?\r\n                                        $('<a/>').attr('href', matchs[j].id).append(\r\n                                            $('<span/>').text(s_home + ' - ' + s_away)\r\n                                        ).click(function(e){\r\n                                            e.preventDefault();\r\n                                            window.location = '?match&' + $(this).attr('href');\r\n                                        }) : $('<span/>').text('-')\r\n                                ),\r\n                                $('<div/>').addClass('col-sm-5').append(\r\n                                    $('<span/>').text(eq_away)\r\n                                )\r\n                            )\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getResultats: getResultats\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getStatistiques() {\r\n\r\n    var allRating = [];\r\n\r\n    $.ajax({\r\n        url: \"ajax/liste.php\",\r\n        method: \"POST\",\r\n        dataType : 'json',\r\n        data: { page: 'statistiques' }\r\n    }).done(function (data) {\r\n        // console.log(data);\r\n\r\n        $('.page').append(\r\n            $('<div/>').addClass('row').append(\r\n                $('<div/>').addClass('col-sm-4').append(\r\n                    $('<h3/>').text('Les plus gros transferts'),\r\n                    $('<div/>').addClass('plus-gros-transferts')\r\n                ),\r\n                $('<div/>').addClass('col-sm-4'),\r\n                $('<div/>').addClass('col-sm-4')\r\n            )\r\n        );\r\n\r\n        var stat_max_price = data.max_price,\r\n            $tableau = $('.plus-gros-transferts'),\r\n            i,\r\n            $ligne;\r\n\r\n        for (i in stat_max_price) {\r\n            if (stat_max_price.hasOwnProperty(i)) {\r\n                $ligne = $('<div/>').addClass('row').append(\r\n                    $('<div/>').addClass('col-sm-6 text-right').text(stat_max_price[i].nom),\r\n                    $('<div/>').addClass('col-sm-6').text(stat_max_price[i].prix)\r\n                );\r\n                $tableau.append($ligne);\r\n            }\r\n        }\r\n    });\r\n\r\n    /*\r\n    $.getJSON('data/ligue1/match_20_01.json', function( data ) {\r\n        console.log(data);\r\n\r\n        var joueurs = data.Home.players;\r\n        for(i in joueurs) {\r\n            var joueur = { 'id': joueurs[i].info.idplayer, 'name': joueurs[i].info.lastname, 'rating': [joueurs[i].info.note_final_2015] };\r\n\r\n            allRating.push(joueur);\r\n        }\r\n    });\r\n\r\n    $.getJSON('data/match_2_1_4.json', function( data ) {\r\n        console.log(data.data);\r\n        var joueurs = data.data.players;\r\n\r\n\r\n        for(lieu in joueurs) {\r\n            var liste = joueurs[lieu];\r\n\r\n            for(i in liste){\r\n                console.log(liste[i]);\r\n                var joueur = { 'id': liste[i].id, 'name': liste[i].name, 'rating': [liste[i].rating] };\r\n                allRating.push(joueur);\r\n                $('.statistiques').append(\r\n                    $('<div/>').addClass('row').append(\r\n                        $('<div/>').addClass('col-sm-6').text(liste[i].name),\r\n                        $('<div/>').addClass('col-sm-6').text(liste[i].rating)\r\n                    )\r\n                )\r\n            }\r\n        }\r\n        console.log(allRating);\r\n    }); */\r\n}\r\n\r\nmodule.exports = {\r\n    getStatistiques: getStatistiques\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getTransferts() {\r\n    $.get({\r\n        url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/transfer/buy\",\r\n        headers: {\"Authorization\": Cookies.get('token')}\r\n    }).done(function(data) {\r\n        console.log(data);\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getTransferts: getTransferts\r\n}","\"use strict\";\r\nvar postes = [\r\n        'Aucun',\r\n        'Gardien',\r\n        'Défenseur',\r\n        'Milieu',\r\n        'Attaquant'\r\n    ],\r\n    teams = [];\r\n\r\nfunction getTeams() {\r\n    $.ajax({\r\n        url: \"ajax/liste.php\",\r\n        method: \"POST\",\r\n        dataType : 'json',\r\n        data: { page: 'effectif' }\r\n    }).done(function (data) {\r\n        var clubs = data.teamsid,\r\n            i;\r\n        \r\n        for (i = 0; i < clubs.length; i += 1) {\r\n            teams.push(clubs[i].name);\r\n        }\r\n        return teams;\r\n    });\r\n}\r\n\r\nfunction fontAwesomeIcon(nom) {\r\n    return $('<i/>').addClass('fa fa-' + nom).attr('aria-hidden', 'true');\r\n}\r\n\r\nfunction classNote (note) {\r\n    if (note >= 7) {\r\n        return 'perf-top';\r\n    } else if (note >= 6) {\r\n        return 'perf-good';\r\n    } else if (note >= 5) {\r\n        return 'perf-normal';\r\n    } else if (note >= 4) {\r\n        return 'perf-bad';\r\n    } else {\r\n        return 'perf-awful';\r\n    }\r\n}\r\n\r\nfunction getStorage (key) {\r\n    if(localStorage.getItem(key) != null) {\r\n        return $.parseJSON(localStorage.getItem(key));\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction setStorage (key, value) {\r\n    localStorage.setItem(key, JSON.stringify({value: value}));\r\n}\r\n\r\nmodule.exports = {\r\n    postes: postes,\r\n    getTeams: getTeams,\r\n    fontAwesomeIcon: fontAwesomeIcon,\r\n    classNote: classNote,\r\n    getStorage: getStorage,\r\n    setStorage: setStorage,\r\n}"]}