{"version":3,"sources":["app/js/app.js","app/js/classement.js","app/js/effectifs.js","app/js/home.js","app/js/ligue1.js","app/js/live.js","app/js/resultats.js","app/js/statistiques.js","app/js/transferts.js","app/js/utils.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/EA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvEA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1VA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzTA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjFA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA","file":"public/js/app.js","sourcesContent":["\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    home = require('js/home'),\r\n    resultats = require('js/resultats'),\r\n    transferts = require('js/transferts'),\r\n    live = require('js/live'),\r\n    statistiques = require('js/statistiques'),\r\n    classement = require('js/classement'),\r\n    effectifs = require('js/effectifs'),\r\n    ligue1 = require('js/ligue1'),\r\n\r\n    /* Variables gloables */\r\n    teams = [],\r\n    $page = $('.page');\r\n\r\n/* Fonctions globales */\r\n\r\nfunction seConnecter(email, password) {\r\n    $page.find('alert alert-danger').remove();\r\n    $.post({\r\n        url: \"https://api.monpetitgazon.com/user/signIn\",\r\n        data: {\r\n            email: email,\r\n            password: password,\r\n            language: \"fr-FR\"\r\n        },\r\n        dataType: 'json'\r\n    }).done(function(data) {\r\n        console.log(data);\r\n        Cookies.set('token', data.token, { expires: 7 });\r\n        // $page.append(data); \r\n    }).fail(function(data) {\r\n        $page.find('form').before(\r\n            $('<div/>').addClass('alert alert-danger').attr('role', 'alert').text('Erreur utilisateur / mot de passe incorrect')\r\n        );\r\n    });\r\n}\r\n\r\nfunction getMatch() {\r\n    \r\n}\r\n\r\nfunction get404() {\r\n    $page.append(\r\n        $('<h1/>').text('La page demandée n\\'existe pas !')\r\n    )\r\n}\r\n\r\nfunction loadPage() {\r\n    var path = window.location.search,\r\n        tab = path.split('?')[1].split('&'),\r\n        page = tab[0];\r\n\r\n    utils.getTeams();\r\n    if (page === 'home') {\r\n        home.getHome();\r\n    } else if (page === 'classement') {\r\n        classement.getClassement();\r\n    } else if (page === 'transferts') {\r\n        transferts.getTransferts();\r\n    } else if (page === 'resultats') {\r\n        resultats.getResultats();\r\n    } else if (page === 'live') {\r\n        live.getLive();\r\n    } else if (page === 'statistiques') {\r\n        statistiques.getStatistiques();\r\n    } else if (page === 'equipes') {\r\n        effectifs.getEffectifs();\r\n    } else if (page === 'match') {\r\n        getMatch();\r\n    } else if (page === 'ligue1') {\r\n        ligue1.getLigue1();\r\n    } else {\r\n        get404();\r\n    }\r\n    // getHome();\r\n}\r\n\r\nloadPage();","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getClassement() {\r\n    $.get({\r\n        url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/ranking\",\r\n        headers: { \"Authorization\": Cookies.get('token') }\r\n    }).done(function(data) {\r\n        var classement = data.ranking,\r\n            clubs = data.teams,\r\n            $tableau,\r\n            i,\r\n            j,\r\n            s,\r\n            donnees,\r\n            $ligne,\r\n            serie,\r\n            equipe;\r\n\r\n        $tableau = $('<table/>').addClass('table classement').append(\r\n            $('<thead/>').append(\r\n                $('<tr/>').append(\r\n                    $('<th/>'),\r\n                    $('<th/>').text('Equipe'),\r\n                    $('<th/>').text('Série'),\r\n                    $('<th/>').text('J'),\r\n                    $('<th/>').text('G'),\r\n                    $('<th/>').text('N'),\r\n                    $('<th/>').text('P'),\r\n                    $('<th/>').text('Bp'),\r\n                    $('<th/>').text('Bc'),\r\n                    $('<th/>').text('Diff'),\r\n                    $('<th/>').text('Pts')\r\n                )\r\n            ),\r\n            $('<tbody/>')\r\n        );\r\n        \r\n        for (i = 0; i < classement.length; i += 1) {\r\n            donnees = classement[i];\r\n            $ligne = $('<tr/>');\r\n\r\n            for (equipe in donnees) {\r\n                if (donnees.hasOwnProperty(equipe)) {\r\n                    if (equipe === 'teamid') {\r\n                        $ligne.append($('<td/>').text(clubs[donnees[equipe]].name));\r\n                    } else if (equipe === 'rank') {\r\n                        $ligne.prepend($('<td/>').text(donnees[equipe]));\r\n                    }  else if (equipe === 'series') {\r\n                        $ligne.append($('<td/>').addClass('serie'));\r\n                        serie = donnees[equipe].split(\"\");\r\n                        \r\n                        for(s in serie) {\r\n                            $ligne.find('.serie').append($('<span/>').addClass(serie[s]));\r\n                        }\r\n                        \r\n                    } else {\r\n                        $ligne.append($('<td/>').text(donnees[equipe]));\r\n                    }\r\n                }\r\n            }\r\n            $tableau.append($ligne);\r\n        }\r\n        $page.append($tableau);\r\n        $tableau.bootstrapTable();\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getClassement: getClassement\r\n}","\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    $page = $('.page');\r\n\r\nfunction getEffectifs() {\r\n    $.get({\r\n        url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/teams\",\r\n        headers: { \"Authorization\": Cookies.get('token') }\r\n    }).done(function (data){\r\n        var clubs = data.teamsid,\r\n            effectifs = data.teams,\r\n            i,\r\n            effectif,\r\n            tab_joueurs,\r\n            equipe_joueurs,\r\n            $ligne;\r\n\r\n        function redirect(e) {\r\n            window.location.href = '?joueur&id=' + $(e.target).data('idplayer');\r\n        }\r\n        \r\n        $('.page').append(\r\n            /*$('<div/>').addClass('filtres').append(\r\n                $('<div/>').addClass('row').append(\r\n                    $('<div/>').addClass('col-md-2').append(\r\n                        $('<label/>').text('Equipe')\r\n                    ),\r\n                    $('<div/>').addClass('col-md-10').append(\r\n                        $('<select/>').addClass('selectpicker').append(\r\n                            $('<option/>').val('all').text('Toutes')\r\n                        )\r\n                    )\r\n                )\r\n            ),*/\r\n            $('<table/>').addClass('table').attr('data-sort-name', 'joueur').attr('data-toggle', 'table').append(\r\n                $('<thead/>').append(\r\n                    $('<tr/>').append(\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'poste').text('Poste'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'club').text('Club'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'prix_achat').text('Prix d\\'achat'),\r\n                        $('<th/>').attr('data-sortable', true).attr('data-field', 'team_mpg').text('Team MPG')\r\n                    )\r\n                ),\r\n                $('<tbody/>')\r\n            )\r\n        );\r\n\r\n        /*for (i = 0; i < clubs.length; i += 1) {\r\n            $('.page .filtres .selectpicker').append($('<option/>').val(clubs[i].id).text(clubs[i].name));\r\n        }*/\r\n\r\n        for (effectif in effectifs) {\r\n            if (effectifs.hasOwnProperty(effectif)) {\r\n                tab_joueurs = effectifs[effectif].players;\r\n                equipe_joueurs = effectifs[effectif].name;\r\n\r\n                for (i = 0; i < tab_joueurs.length; i += 1) {\r\n                    $ligne = $('<tr/>').attr('data-idplayer', tab_joueurs[i].id).append(\r\n                        $('<td/>').html((tab_joueurs[i].firstname) ? tab_joueurs[i].firstname + ' ' + tab_joueurs[i].lastname : '' + tab_joueurs[i].lastname),\r\n                        $('<td/>').text(utils.postes[tab_joueurs[i].position]),\r\n                        $('<td/>').text(tab_joueurs[i].club),\r\n                        $('<td/>').text(tab_joueurs[i].price_paid),\r\n                        $('<td/>').attr('data-teamid', effectifs[effectif].id).text(equipe_joueurs)\r\n                    ).on('click', redirect);\r\n                    $('.page table tbody').append($ligne);\r\n                }\r\n            }\r\n        }\r\n        // $('.page .filtres .selectpicker').selectpicker('refresh');\r\n        $('.page table').bootstrapTable({\r\n            pagination: true,\r\n            search: true,\r\n            showColumns: true\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getEffectifs: getEffectifs\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getHome() {\r\n    $page.append(\r\n        $('<div/>').addClass('row').append(\r\n            $('<div/>').addClass('col-sm-6 col-sm-offset-3').append(\r\n                $('<form/>').append(\r\n                    $('<div/>').addClass('form-group').append(\r\n                        $('<label/>').attr('for', 'emailInput').text('Entrez votre Email MPG :'),\r\n                        $('<input/>').addClass('form-control').attr('type', 'email').attr('placeholder', 'ex : test@mail.fr').attr('id', 'emailInput')\r\n                    ),\r\n                    $('<div/>').addClass('form-group').append(\r\n                        $('<label/>').attr('for', 'passwordInput').text('Entrez votre mot de passe MPG :'),\r\n                        $('<input/>').addClass('form-control').attr('type', 'password').attr('placeholder', 'Saissisez votre mote de passe MPG').attr('id', 'passwordInput')\r\n                    ),\r\n                    $('<button/>').addClass('btn btn-primary seconnecter').attr('type', 'submit').text('Se connecter')\r\n                )\r\n            )\r\n        )\r\n    );\r\n    $('.seconnecter').click(function(e){\r\n        e.preventDefault();\r\n        seConnecter($('#emailInput').val(), $('#passwordInput').val());\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getHome: getHome\r\n}","\"use strict\";\r\n\r\nvar utils = require('js/utils'),\r\n    $page = $('.page');\r\n\r\nfunction getLigue1() {\r\n    var journee = 0,\r\n        derniereJournee = 0,\r\n        effectifs,\r\n        tab = [],\r\n        tabPromessesMatchParJournee = [],\r\n        tabPromessesDetailsParId = [],\r\n        tabJournee = [],\r\n        listeJournees = [],\r\n        listeNotes = [],\r\n        listePromessesMatchParJournee,\r\n        listePromessesDetailsParId,\r\n        matchs,\r\n        eq_home,\r\n        eq_away,\r\n        j_home,\r\n        j_away,\r\n        listeJoueurs,\r\n        listeNotes,\r\n        equipe,\r\n        result,\r\n        titu,\r\n        sub,\r\n        joueur,\r\n        index,\r\n        notes,\r\n        moyenne,\r\n        noteClass,\r\n        i,\r\n        j,\r\n        k,\r\n        $ligneHead,\r\n        $ligne;\r\n    \r\n    function getListeMatchParJournee (i) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\" + i,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n\r\n    function getDetailsMatchParId (id) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/match/\" + id,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getDerniereJournee () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getEffectif () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/teams\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n\r\n    function compare(e) {\r\n        return e.id === j;\r\n    }\r\n\r\n    $.when(getDerniereJournee(), getEffectif()).then(function(args1, args2){\r\n        derniereJournee = args1[0].day;\r\n        effectifs = args2[0];\r\n\r\n        for(i = 18; i <= derniereJournee; i += 1) {\r\n            tabPromessesMatchParJournee.push(i);\r\n        }\r\n        listePromessesMatchParJournee = tabPromessesMatchParJournee.map(getListeMatchParJournee);\r\n\r\n        $.when.apply($, listePromessesMatchParJournee).then(function(){\r\n            for(i = 0; i < tabPromessesMatchParJournee.length; ++i) {\r\n                journee = arguments[i][0].day;\r\n                matchs = arguments[i][0].matches;\r\n                listeJournees.push(journee);\r\n                \r\n                for(j in matchs) {\r\n                    if (matchs.hasOwnProperty(j)) {\r\n                        if(matchs[j].home.score || matchs[j].home.score !== '') {\r\n                            tabPromessesDetailsParId.push(matchs[j].id);\r\n                            tabJournee.push(journee);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            listePromessesDetailsParId = tabPromessesDetailsParId.map(getDetailsMatchParId);\r\n\r\n            $.when.apply($, listePromessesDetailsParId).then(function(){\r\n                for(i = 0; i < tabPromessesDetailsParId.length; ++i) {\r\n                    journee = tabJournee[i];\r\n                    eq_home = arguments[i][0].Home.club;\r\n                    eq_away = arguments[i][0].Away.club;\r\n                    j_home = arguments[i][0].Home.players;\r\n                    j_away = arguments[i][0].Away.players;\r\n                    listeJoueurs = Object.assign(j_home, j_away);\r\n\r\n                    for (j in listeJoueurs) {\r\n                        if (listeJoueurs.hasOwnProperty(j)) {\r\n                            result = $.grep(listeNotes, compare);\r\n\r\n                            if (j_away.hasOwnProperty(j)) {\r\n                                equipe = eq_away;\r\n                            } else {\r\n                                equipe = eq_home;\r\n                            }\r\n\r\n                            if (listeJoueurs[j].info.sub) {\r\n                                titu = 0;\r\n                                sub = 1;\r\n                            } else {\r\n                                titu = 1;\r\n                                sub = 0;\r\n                            }\r\n\r\n                            // console.log(listeJoueurs[j].info);\r\n\r\n                            if (result.length === 0) {\r\n                                joueur = {\r\n                                    id: j,\r\n                                    nom: listeJoueurs[j].info.lastname,\r\n                                    equipe: equipe,\r\n                                    somme: listeJoueurs[j].info.note_final_2015,\r\n                                    buts: listeJoueurs[j].info.goals,\r\n                                    titulaires: titu,\r\n                                    remplacants: sub,\r\n                                    notes: [\r\n                                        {\r\n                                            note: listeJoueurs[j].info.note_final_2015,\r\n                                            journee: journee,\r\n                                            sub: sub\r\n                                        }\r\n                                    ]\r\n                                };\r\n                                listeNotes.push(joueur);\r\n                            } else {\r\n                                index = listeNotes.indexOf(result[0]);\r\n                                listeNotes[index].buts += listeJoueurs[j].info.goals;\r\n                                listeNotes[index].somme += listeJoueurs[j].info.note_final_2015;\r\n                                listeNotes[index].titulaires += titu;\r\n                                listeNotes[index].remplacants += sub;\r\n                                listeNotes[index].notes.push(\r\n                                    {\r\n                                        note: listeJoueurs[j].info.note_final_2015,\r\n                                        journee: journee,\r\n                                        sub: sub\r\n                                    }\r\n                                );\r\n                                // console.log(result);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                $('.page').append(\r\n                    $('<div/>').addClass('actions').append(\r\n                        $('<button/>').addClass('btn btn-success').attr('type', 'button').attr('data-toggle', 'modal').attr('data-target', '#addMatch').text('Ajouter un match'),\r\n                        $('<div/>').addClass('modal fade').attr('id', 'addMatch').attr('role', 'dialog').attr('aria-labelledby', 'addMatch').append(\r\n                            $('<div/>').addClass('modal-dialog').attr('role', 'document').append(\r\n                                $('<div/>').addClass('modal-content').append(\r\n                                    $('<div/>').addClass('modal-header').append(\r\n                                        $('<button/>').attr('type', 'button').addClass('close').attr('data-dismiss', 'modal').attr('aria-label', 'Close').append(\r\n                                            $('<span/>').attr('aria-hidden', 'true').html('&times;')\r\n                                        ),\r\n                                        $('<h4/>').addClass('modal-title').attr('id', 'addMatch').text('Ajouter un match - Format JSON')\r\n                                    ),\r\n                                    $('<div/>').addClass('modal-body').append(\r\n                                        $('<form/>').append(\r\n                                            $('<div/>').addClass('row').append(\r\n                                                $('<div/>').addClass('col-sm-6').append(\r\n                                                    $('<select/>').addClass('selectpicker').append(\r\n                                                        $('<option/>').val('ligue1').text('Ligue 1'),\r\n                                                        $('<option/>').val('premierleague').text('Premier League')\r\n                                                    )\r\n                                                ),\r\n                                                $('<div/>').addClass('col-sm-6').append(\r\n                                                    $('<input/>').attr('type', 'number').attr('placeholder', '0')\r\n                                                ),\r\n                                                $('<div/>').addClass('col-sm-12').append(\r\n                                                    $('<textarea/>').attr('placeholder', 'Ajouter le fichier json du match ici')\r\n                                                )\r\n                                            )\r\n                                        )\r\n                                    ),\r\n                                    $('<div/>').addClass('modal-footer').append(\r\n                                        $('<button/>').attr('type', 'button').addClass('btn btn-default').attr('data-dismiss', 'modal').text('Annuler'),\r\n                                        $('<button/>').attr('type', 'button').addClass('btn btn-primary btn-add-match').text('Enregistrer')\r\n                                    )\r\n                                )\r\n                            )\r\n                        )\r\n                    ),\r\n                    $('<table/>').addClass('table').attr('data-sort-name', 'joueur').attr('data-toggle', 'table').append(\r\n                        $('<thead/>'),\r\n                        $('<tbody/>')\r\n                    )\r\n                );\r\n\r\n                function trouverEquipe (myArray, value) {\r\n                     // console.log(myArray, value);\r\n                     for (var i in myArray) {\r\n                        // console.log(myArray[i]);\r\n                        for (var j in myArray[i].players) {\r\n                            // console.log(myArray[i].players[j].id, value);\r\n                            if (myArray[i].players[j].id === 'player_' + value) {\r\n                                return { nom: myArray[i].name, poste: myArray[i].players[j].position };\r\n                            }\r\n                        }\r\n                    }\r\n                 }\r\n\r\n                $ligneHead = $('<tr/>').append(\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'position').text('Position'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'proprietaire').text('Propriétaire'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'equipe').text('Equipe'),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'buts').append(\r\n                        $('<i/>').addClass('fa fa-futbol-o').attr('aria-hidden', true)\r\n                    ),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'titulaires').append(\r\n                        $('<i/>').addClass('fa fa-circle').attr('aria-hidden', true)\r\n                    ),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'remplacants').append(\r\n                        $('<i/>').addClass('fa fa-circle-thin').attr('aria-hidden', true)\r\n                    ),\r\n                    $('<th/>').attr('data-sortable', true).attr('data-field', 'moyenne').text('Moy.')\r\n                );\r\n\r\n                for (i = 0; i < listeJournees.length; i += 1) {\r\n                    $ligneHead.append($('<th/>').attr('data-sortable', true).attr('data-field', 'J' + listeJournees[i]).text('J' + listeJournees[i]));\r\n                }\r\n                $('.page table thead').append($ligneHead);\r\n\r\n                // console.log(effectifs.teams, liste_notes);\r\n\r\n                for (i in listeNotes) {\r\n                    if (listeNotes.hasOwnProperty(i)) {\r\n                        $ligne = $('<tr/>').append(\r\n                            $('<td/>').html('<strong>' + listeNotes[i].nom + '</strong>'),\r\n                            $('<td/>').text(trouverEquipe(effectifs.teams, listeNotes[i].id) !== undefined ? utils.postes[(trouverEquipe(effectifs.teams, listeNotes[i].id))['poste']] : ''),\r\n                            $('<td/>').text(trouverEquipe(effectifs.teams, listeNotes[i].id) !== undefined ? (trouverEquipe(effectifs.teams, listeNotes[i].id))['nom'] : 'Libre'),\r\n                            $('<td/>').text(listeNotes[i].equipe),\r\n                            $('<td/>').text(listeNotes[i].buts),\r\n                            $('<td/>').text(listeNotes[i].titulaires),\r\n                            $('<td/>').text(listeNotes[i].remplacants)\r\n                        );\r\n                        notes = listeNotes[i].notes;\r\n\r\n                        moyenne = Math.round(listeNotes[i].somme / notes.length * 100) / 100;\r\n\r\n                        if (moyenne >= 7) {\r\n                            noteClass = 'perf-top';\r\n                        } else if (moyenne >= 6) {\r\n                            noteClass = 'perf-good';\r\n                        } else if (moyenne >= 5) {\r\n                            noteClass = 'perf-normal';\r\n                        } else if (moyenne >= 4) {\r\n                            noteClass = 'perf-bad';\r\n                        } else if (moyenne < 4) {\r\n                            noteClass = 'perf-awful';\r\n                        }\r\n\r\n                        $ligne.append($('<td/>').addClass(noteClass).text(moyenne));\r\n                        k = 0;\r\n                        for (j = 0; j < listeJournees.length; j += 1) {\r\n                            if (notes[k] !== undefined) {\r\n                                if (listeJournees[j] === notes[k].journee) {\r\n                                    if (notes[k].note >= 7) {\r\n                                        noteClass = 'perf-top';\r\n                                    } else if (notes[k].note >= 6) {\r\n                                        noteClass = 'perf-good';\r\n                                    } else if (notes[k].note >= 5) {\r\n                                        noteClass = 'perf-normal';\r\n                                    } else if (notes[k].note >= 4) {\r\n                                        noteClass = 'perf-bad';\r\n                                    } else if (notes[k].note < 4) {\r\n                                        noteClass = 'perf-awful';\r\n                                    }\r\n\r\n                                    if (notes[k].sub) {\r\n                                        $ligne.append($('<td/>').addClass(noteClass).append(\r\n                                            $('<span/>').text(notes[k].note),\r\n                                            $('<i/>').addClass('fa fa-caret-right').attr('aria-hidden', true)\r\n                                        ));\r\n                                    } else {\r\n                                        $ligne.append($('<td/>').addClass(noteClass).text(notes[k].note));\r\n                                    }\r\n                                    k += 1;\r\n                                } else {\r\n                                    $ligne.append($('<td/>').text('X'));\r\n                                }\r\n                            } else {\r\n                                $ligne.append($('<td/>').text('X'));\r\n                                k += 1;\r\n                            }\r\n                        }\r\n                        $('.page table tbody').append($ligne);\r\n                    }\r\n                }\r\n\r\n                $('.page .modal .selectpicker').selectpicker('refresh');\r\n                $('.page table').bootstrapTable({\r\n                    pagination: true,\r\n                    search: true,\r\n                    showColumns: true\r\n                });\r\n                $('.page .modal .btn-add-match').on('click', function (e) {\r\n                    e.preventDefault();\r\n\r\n                    var ligue = $('.page form .selectpicker').val();\r\n                    var journee = $('.page form input').val();\r\n                    var json = $('.page form textarea').val();\r\n\r\n                    $.ajax({\r\n                        url: \"ajax/ajout_match.php\",\r\n                        method: \"POST\",\r\n                        data: {\r\n                            ligue: ligue,\r\n                            journee: journee,\r\n                            json: json\r\n                        }\r\n                    }).done(function (data) {\r\n                        console.log(data);\r\n                        $('.page form input').val('');\r\n                        $('.page form textarea').val('');\r\n                        $('.page .modal').modal('hide');\r\n                        location.reload();\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getLigue1: getLigue1\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getLive() {\r\n    $.ajax({\r\n        url: \"ajax/liste.php\",\r\n        method: \"POST\",\r\n        dataType : 'json',\r\n        data: { page: 'resultats' }\r\n    }).done(function (data) {\r\n        var resultats = data.resultats,\r\n            ligue1 = data.ligue1,\r\n            journee,\r\n            eq_home,\r\n            eq_away,\r\n            j_home,\r\n            j_away,\r\n            s_home,\r\n            s_away,\r\n            joueurs,\r\n            i,\r\n            j,\r\n            liste_journees = [],\r\n            liste_notes = [],\r\n            result,\r\n            joueur,\r\n            equipe,\r\n            position,\r\n            titu,\r\n            sub,\r\n            index,\r\n            $ligne;\r\n         \r\n        function compare(e) {\r\n            return e.id === j;\r\n        }\r\n         \r\n        for (i in ligue1) {\r\n            if (ligue1.hasOwnProperty(i)) {\r\n                // console.log(matchs[i]);\r\n                journee = i.split('_')[1];\r\n                eq_home = ligue1[i].Home.club;\r\n                eq_away = ligue1[i].Away.club;\r\n                j_home = ligue1[i].Home.players;\r\n                j_away = ligue1[i].Away.players;\r\n                joueurs = Object.assign(j_home, j_away);\r\n\r\n                if (liste_journees.indexOf(journee) === -1) {\r\n                    liste_journees.push(journee);\r\n                }\r\n\r\n                for (j in joueurs) {\r\n                    if (joueurs.hasOwnProperty(j)) {\r\n                        result = $.grep(liste_notes, compare);\r\n                        \r\n                        if (j_away.hasOwnProperty(j)) {\r\n                            equipe = eq_away;\r\n                        } else {\r\n                            equipe = eq_home;\r\n                        }\r\n\r\n                        if (joueurs[j].info.position === 'Goalkeeper') {\r\n                            position = postes[1];\r\n                        } else if (joueurs[j].info.position === 'Defender') {\r\n                            position = postes[2];\r\n                        } else if (joueurs[j].info.position === 'Midfielder') {\r\n                            position = postes[3];\r\n                        } else if (joueurs[j].info.position === 'Striker') {\r\n                            position = postes[4];\r\n                        }\r\n\r\n                        if (joueurs[j].info.sub) {\r\n                            titu = 0;\r\n                            sub = 1;\r\n                        } else {\r\n                            titu = 1;\r\n                            sub = 0;\r\n                        }\r\n\r\n                        if (result.length === 0) {\r\n                            \r\n                            joueur = {\r\n                                id: j,\r\n                                nom: joueurs[j].info.lastname,\r\n                                position: position,\r\n                                equipe: equipe,\r\n                                somme: joueurs[j].info.note_final_2015,\r\n                                buts: joueurs[j].info.goals,\r\n                                titulaires: titu,\r\n                                remplacants: sub,\r\n                                notes: [\r\n                                    {\r\n                                        note: joueurs[j].info.note_final_2015,\r\n                                        journee: journee,\r\n                                        sub: sub\r\n                                    }\r\n                                ]\r\n                            };\r\n                            liste_notes.push(joueur);\r\n                        } else {\r\n                            index = liste_notes.indexOf(result[0]);\r\n                            liste_notes[index].buts += joueurs[j].info.goals;\r\n                            liste_notes[index].somme += joueurs[j].info.note_final_2015;\r\n                            liste_notes[index].titulaires += titu;\r\n                            liste_notes[index].remplacants += sub;\r\n                            liste_notes[index].notes.push(\r\n                                {\r\n                                    note: joueurs[j].info.note_final_2015,\r\n                                    journee: journee,\r\n                                    sub: sub\r\n                                }\r\n                            );\r\n                            // console.log(result);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        $page.append(\r\n            $('<div/>').addClass('actions').append(\r\n                $('<button/>').addClass('btn btn-success').attr('type', 'button').attr('data-toggle', 'modal').attr('data-target', '#addMatch').text('Ajouter un match'),\r\n                $('<div/>').addClass('modal fade').attr('id', 'addMatch').attr('role', 'dialog').attr('aria-labelledby', 'addMatch').append(\r\n                    $('<div/>').addClass('modal-dialog').attr('role', 'document').append(\r\n                        $('<div/>').addClass('modal-content').append(\r\n                            $('<div/>').addClass('modal-header').append(\r\n                                $('<button/>').attr('type', 'button').addClass('close').attr('data-dismiss', 'modal').attr('aria-label', 'Close').append(\r\n                                    $('<span/>').attr('aria-hidden', 'true').html('&times;')\r\n                                ),\r\n                                $('<h4/>').addClass('modal-title').attr('id', 'addMatch').text('Ajouter un match - Format JSON')\r\n                            ),\r\n                            $('<div/>').addClass('modal-body').append(\r\n                                $('<form/>').append(\r\n                                    $('<div/>').addClass('row').append(\r\n                                        $('<div/>').addClass('col-sm-6').append(\r\n                                            $('<select/>').addClass('selectpicker').append(\r\n                                                $('<option/>').val('ligue1').text('Ligue 1'),\r\n                                                $('<option/>').val('premierleague').text('Premier League')\r\n                                            )\r\n                                        ),\r\n                                        $('<div/>').addClass('col-sm-6').append(\r\n                                            $('<input/>').attr('type', 'number').addClass('journee').attr('placeholder', '0')\r\n                                        )\r\n                                    ),\r\n                                    $('<div/>').addClass('row').append(\r\n                                        $('<div/>').addClass('col-sm-6').append(\r\n                                            \r\n                                            $('<select/>').addClass('selectpicker').addClass('equipe equipe1').attr('title', 'Choisisser l\\'équipe à domicile'),\r\n                                            $('<textarea/>').addClass('journee').addClass('equipe1').attr('placeholder', 'Ajouter le fichier json l\\'équipe à domicile ici')\r\n                                        ),\r\n                                        $('<div/>').addClass('col-sm-6').append(\r\n                                            $('<select/>').addClass('selectpicker').addClass('equipe equipe2').attr('title', 'Choisisser l\\'équipe à l\\'exterieur'),\r\n                                            $('<textarea/>').addClass('journee').addClass('equipe2').attr('placeholder', 'Ajouter le fichier json l\\'équipe à l\\'exterieur ici')\r\n                                        )\r\n                                    )\r\n                                )\r\n                            ),\r\n                            $('<div/>').addClass('modal-footer').append(\r\n                                $('<button/>').attr('type', 'button').addClass('btn btn-default').attr('data-dismiss', 'modal').text('Annuler'),\r\n                                $('<button/>').attr('type', 'button').addClass('btn btn-primary btn-add-match').text('Enregistrer')\r\n                            )\r\n                        )\r\n                    )\r\n                )\r\n            ),\r\n            $('<div/>').addClass('panel-group').attr('id', 'accordion').attr('role', 'tablist').attr('aria-multiselectable', 'true')\r\n        );\r\n         \r\n         function trouverNote (myArray, value) {\r\n             // console.log(myArray, value);\r\n             for (var i in myArray) {\r\n                if ('player_' + myArray[i].id === value) {\r\n                    if(myArray[i].notes[myArray[i].notes.length-1].journee == 23) {\r\n                        return myArray[i].notes[myArray[i].notes.length-1].note;\r\n                    }\r\n                }\r\n            }\r\n         }\r\n         console.log(resultats);\r\n         var k = 1;\r\n        for (i in resultats) {\r\n            if (resultats.hasOwnProperty(i)) {\r\n                $page.find('.panel-group').append(\r\n                    $('<div/>').addClass('panel panel-default').attr('data-match', i).append(\r\n                        $('<div/>').addClass('panel panel-heading').attr('id', 'heading_' + k).attr('role', 'tab').append(\r\n                            $('<a/>').attr('role', 'button').attr('data-toggle', 'collapse').attr('data-parent', '#accordion').attr('href', '#collapse_' + k).attr('aria-expanded', 'false').attr('aria-controls', 'collapse_' + k).append(\r\n                                $('<div/>').addClass('row').append(\r\n                                    $('<div/>').addClass('col-sm-6').append(\r\n                                        $('<h4/>').addClass('panel-title').text(resultats[i].Home.equipe)\r\n                                    ),\r\n                                    $('<div/>').addClass('col-sm-6').append(\r\n                                        $('<h4/>').addClass('panel-title').text(resultats[i].Away.equipe)\r\n                                    )\r\n                                )\r\n                            )\r\n                        ),\r\n                        $('<div/>').addClass('panel-collapse collapse').attr('id', 'collapse_' + k).attr('role', 'tabpanel').attr('aria-labelledby', '#heading_' + k).append(\r\n                            $('<div/>').addClass('panel-body').append(\r\n                                $('<div/>').addClass('row').append(\r\n                                    $('<div/>').addClass('col-sm-6').append(\r\n                                        $('<table/>').addClass('table home').attr('data-toggle', 'table').append(\r\n                                            $('<thead/>').append(\r\n                                                $('<tr/>').append(\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'numero'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'note').text('Note'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'bonus').text('Bonus'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'final').text('Final')\r\n                                                )\r\n                                            ),\r\n                                            $('<tbody/>')\r\n                                        )\r\n                                    ),\r\n                                    $('<div/>').addClass('col-sm-6').append(\r\n                                        $('<table/>').addClass('table away').attr('data-toggle', 'table').append(\r\n                                            $('<thead/>').append(\r\n                                                $('<tr/>').append(\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'numero'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'joueur').text('Joueur'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'note').text('Note'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'bonus').text('Bonus'),\r\n                                                    $('<th/>').attr('data-sortable', true).attr('data-field', 'final').text('Final')\r\n                                                )\r\n                                            ),\r\n                                            $('<tbody/>')\r\n                                        )\r\n                                    )\r\n                                )\r\n                            )\r\n                        )\r\n                    )\r\n                );\r\n                \r\n                // j_home = Object.assign(resultats[i].Home.players, \r\n                s_home = resultats[i].Home.substitutes;\r\n                for(j in s_home) {\r\n                    resultats[i].Home.players.push(resultats[i].Home.substitutes[j]);\r\n                }\r\n                \r\n                j_home = resultats[i].Home.players;\r\n                for(j in j_home) {\r\n                    $ligne = $('<tr/>').append(\r\n                        $('<td/>').text(j_home[j].number),\r\n                        $('<td/>').text(j_home[j].name || j_home[j].substituteName),\r\n                        $('<td/>').text(trouverNote(liste_notes, j_home[j].playerid)),\r\n                        $('<td/>').text(0),\r\n                        $('<td/>').text(0)\r\n                    );\r\n                    $('[data-match=\"' + i +'\"] table.home tbody').append($ligne);\r\n                }\r\n                \r\n                s_away = resultats[i].Away.substitutes;\r\n                for(j in s_away) {\r\n                    resultats[i].Away.players.push(resultats[i].Away.substitutes[j]);\r\n                }\r\n                \r\n                j_away = resultats[i].Away.players; // resultats[i].Away.substitutes\r\n                for(j in j_away) {\r\n                    $ligne = $('<tr/>').append(\r\n                        $('<td/>').text(j_away[j].number),\r\n                        $('<td/>').text(j_away[j].name || j_away[j].substituteName),\r\n                        $('<td/>').text(trouverNote(liste_notes, j_away[j].playerid)),\r\n                        $('<td/>').text(0),\r\n                        $('<td/>').text(0)\r\n                    );\r\n                    $('[data-match=\"' + i +'\"] table.away tbody').append($ligne);\r\n                }\r\n            }\r\n            k++;\r\n         }\r\n         \r\n        for (i = 0; i < teams.length; i += 1) {\r\n            $('.page .modal .selectpicker.equipe').append($('<option/>').val(teams[i]).text(teams[i]));\r\n        }\r\n\r\n        $('.page .modal .selectpicker').selectpicker('refresh');\r\n        $('.page table').bootstrapTable();\r\n        $('.page .modal .btn-add-match').on('click', function (e) {\r\n            e.preventDefault();\r\n\r\n            var ligue = $('.page form .selectpicker').val();\r\n            var journee = $('.page form .journee').val();\r\n            var equipe1 = $('.page form select.equipe1').val();\r\n            var equipe2 = $('.page form select.equipe2').val();\r\n            var Home = JSON.parse($('.page form textarea.equipe1').val());\r\n            var Away = JSON.parse($('.page form textarea.equipe2').val());\r\n            \r\n            Home.equipe = equipe1;\r\n            Away.equipe = equipe2;\r\n            \r\n            var data = JSON.stringify({Home, Away});\r\n            $.ajax({\r\n                url: \"ajax/ajout_resultat.php\",\r\n                method: \"POST\",\r\n                data: {\r\n                    ligue: ligue,\r\n                    journee: journee,\r\n                    json: data\r\n                }\r\n            }).done(function (data) {\r\n                console.log(data);\r\n                $('.page form input').val('');\r\n                $('.page form textarea').val('');\r\n                $('.page .modal').modal('hide');\r\n                location.reload();\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getLive: getLive\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page'),\r\n    journee = 0,\r\n    derniereJournee = 0,\r\n    tab = [],\r\n    tabPromesses = [],\r\n    listeJournees = [],\r\n    listeNotes = [],\r\n    listePromesses,\r\n    matchs,\r\n    eq_home,\r\n    eq_away,\r\n    j_home,\r\n    j_away,\r\n    listeJoueurs,\r\n    listeNotes,\r\n    equipe,\r\n    result,\r\n    titu,\r\n    sub,\r\n    joueur,\r\n    index,\r\n    i,\r\n    j,\r\n    k;\r\n\r\n\r\nfunction getResultats () {\r\n\r\n    function getListeMatchParJournee (i) {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\" + i,\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n    \r\n    function getDerniereJournee () {\r\n        return $.get({\r\n            url: \"https://api.monpetitgazon.com/championship/1/calendar/\",\r\n            headers: { \"Authorization\": Cookies.get('token') }\r\n        });\r\n    }\r\n\r\n    function compare(e) {\r\n        return e.id === j;\r\n    }\r\n\r\n    $.when(getDerniereJournee()).then(function(args){\r\n        derniereJournee = args.day;\r\n\r\n        for(i = 18; i <= derniereJournee; i += 1) {\r\n            tabPromesses.push(i);\r\n        }\r\n        listePromesses = tabPromesses.map(getListeMatchParJournee);\r\n\r\n        $.when.apply($, listePromesses).then(function(){\r\n            for(i = 0; i < listePromesses.length; ++i) {\r\n                journee = arguments[i][0].day;\r\n                matchs = arguments[i][0].matches;\r\n                listeJournees.push(journee);\r\n\r\n                console.log(matchs);\r\n\r\n                for(j in matchs) {\r\n                    if (matchs.hasOwnProperty(j)) {\r\n                        eq_home = matchs[j].home.club;\r\n                        eq_away = matchs[j].away.club;\r\n                        j_home = matchs[j].home.players;\r\n                        j_away = matchs[j].away.players;\r\n                        listeJoueurs = Object.assign(j_home, j_away);\r\n\r\n\r\n                        // console.log(listeJoueurs);\r\n\r\n                        /*\r\n                        for (k in listeJoueurs) {\r\n                            if (listeJoueurs.hasOwnProperty(k)) {\r\n                                \r\n                            }\r\n                        }*/\r\n                    }\r\n                }\r\n            }\r\n            console.log(listeNotes);\r\n        });\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getResultats: getResultats\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getStatistiques() {\r\n\r\n    var allRating = [];\r\n\r\n    $.ajax({\r\n        url: \"ajax/liste.php\",\r\n        method: \"POST\",\r\n        dataType : 'json',\r\n        data: { page: 'statistiques' }\r\n    }).done(function (data) {\r\n        // console.log(data);\r\n\r\n        $('.page').append(\r\n            $('<div/>').addClass('row').append(\r\n                $('<div/>').addClass('col-sm-4').append(\r\n                    $('<h3/>').text('Les plus gros transferts'),\r\n                    $('<div/>').addClass('plus-gros-transferts')\r\n                ),\r\n                $('<div/>').addClass('col-sm-4'),\r\n                $('<div/>').addClass('col-sm-4')\r\n            )\r\n        );\r\n\r\n        var stat_max_price = data.max_price,\r\n            $tableau = $('.plus-gros-transferts'),\r\n            i,\r\n            $ligne;\r\n\r\n        for (i in stat_max_price) {\r\n            if (stat_max_price.hasOwnProperty(i)) {\r\n                $ligne = $('<div/>').addClass('row').append(\r\n                    $('<div/>').addClass('col-sm-6 text-right').text(stat_max_price[i].nom),\r\n                    $('<div/>').addClass('col-sm-6').text(stat_max_price[i].prix)\r\n                );\r\n                $tableau.append($ligne);\r\n            }\r\n        }\r\n    });\r\n\r\n    /*\r\n    $.getJSON('data/ligue1/match_20_01.json', function( data ) {\r\n        console.log(data);\r\n\r\n        var joueurs = data.Home.players;\r\n        for(i in joueurs) {\r\n            var joueur = { 'id': joueurs[i].info.idplayer, 'name': joueurs[i].info.lastname, 'rating': [joueurs[i].info.note_final_2015] };\r\n\r\n            allRating.push(joueur);\r\n        }\r\n    });\r\n\r\n    $.getJSON('data/match_2_1_4.json', function( data ) {\r\n        console.log(data.data);\r\n        var joueurs = data.data.players;\r\n\r\n\r\n        for(lieu in joueurs) {\r\n            var liste = joueurs[lieu];\r\n\r\n            for(i in liste){\r\n                console.log(liste[i]);\r\n                var joueur = { 'id': liste[i].id, 'name': liste[i].name, 'rating': [liste[i].rating] };\r\n                allRating.push(joueur);\r\n                $('.statistiques').append(\r\n                    $('<div/>').addClass('row').append(\r\n                        $('<div/>').addClass('col-sm-6').text(liste[i].name),\r\n                        $('<div/>').addClass('col-sm-6').text(liste[i].rating)\r\n                    )\r\n                )\r\n            }\r\n        }\r\n        console.log(allRating);\r\n    }); */\r\n}\r\n\r\nmodule.exports = {\r\n    getStatistiques: getStatistiques\r\n}","\"use strict\";\r\n\r\nvar $page = $('.page');\r\n\r\nfunction getTransferts() {\r\n    $.get({\r\n        url: \"https://api.monpetitgazon.com/league/pVArFY4W1nn/transfer/buy\",\r\n        headers: {\"Authorization\": Cookies.get('token')}\r\n    }).done(function(data) {\r\n        console.log(data);\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    getTransferts: getTransferts\r\n}","\"use strict\";\r\nvar postes = [\r\n        'Aucun',\r\n        'Gardien',\r\n        'Défenseur',\r\n        'Milieu',\r\n        'Attaquant'\r\n    ],\r\n    teams = [];\r\n\r\nfunction getTeams() {\r\n    $.ajax({\r\n        url: \"ajax/liste.php\",\r\n        method: \"POST\",\r\n        dataType : 'json',\r\n        data: { page: 'effectif' }\r\n    }).done(function (data) {\r\n        var clubs = data.teamsid,\r\n            i;\r\n        \r\n        for (i = 0; i < clubs.length; i += 1) {\r\n            teams.push(clubs[i].name);\r\n        }\r\n        return teams;\r\n    });\r\n}\r\n\r\nmodule.exports = {\r\n    postes: postes,\r\n    getTeams: getTeams\r\n}"]}